<div ng-controller="home.map.InfoCtrl" ng-switch="isLoading">

    <div cric-panel-content class="loading" ng-switch-when="true">

    </div>

	<div ng-switch-when="false" ng-switch="isDataAvailable">

         <div cric-panel-content ng-switch-when="false" class="panel-no-data-available">

		    No data available
	
        </div>

         <div ng-switch-when="true" style="padding: 5px;">

            <div class="row-fluid">
                <div class="span12">
                    <select class="span12" ng-model="idResult" ng-change="onChangeFeature(idResult)" 
                        ng-options="idResult.layerName for idResult in idResults" />
                </div>
            </div>

            <div class="row-fluid">
                <div class="span12">
                    <div cric-carusel id="infoCarousel" class="carousel slide" data-interval="false">
                          <div class="carousel-inner" >
                               <div ng-class="{ active: ($first) }" class="item" ng-repeat='page in idResult.feature.pages'>
                                    <table style="margin-bottom: 10px;" class="table table-condensed table-bordered table-striped table-hover fixed">
                                        <thead>
                                            <tr>
                                                <th colspan="2">Attributes</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr ng-repeat='(key, value) in page'>
                                                <td>{{key}}</td>
                                                <td>{{value}}</td>
                                            </tr>
                                        </tbody>
                                    </table>        
                               </div>
                        </div>
                        <a ng-hide="idResult.feature.pages.length <= 1" class="carousel-control left" href="#infoCarousel" data-slide="prev">&lsaquo;</a>
                        <a ng-hide="idResult.feature.pages.length <= 1" class="carousel-control right" href="#infoCarousel" data-slide="next">&rsaquo;</a>
                    </div>
                </div>
            </div>

            <div class="row-fluid" ng-show="attachments.pages.length > 0">
                <div class="span12">
                    <div cric-carusel id="filesCarousel" class="carousel slide" data-interval="false">
                          <div class="carousel-inner" >
                               <div ng-class="{ active: ($first) }" class="item" ng-repeat='page in attachments.pages'>
                                    <table class="table table-condensed table-bordered table-striped fixed">
                                        <thead>
                                            <tr>
                                                <th>Attachments</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr ng-repeat='file in page'>
                                                <td>
                                                    <a ng-href="{{file.url}}">{{file.name}}</a>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>        
                               </div>
                        </div>
                        <a ng-hide="attachments.pages.length <= 1" class="carousel-control left" href="#filesCarousel" data-slide="prev">&lsaquo;</a>
                        <a ng-hide="attachments.pages.length <= 1" class="carousel-control right" href="#filesCarousel" data-slide="next">&rsaquo;</a>
                    </div>
                </div>
            </div>

            <div class="row-fluid">
                <div class="span12">
                    <div class="span1"></div>

                    <div class="btn-block span10">
                        <div class="span3"></div>
                        <button class="btn btn-inverse span3" ng-click="onLocate(idResult)" title="Locate">
                            <i class="icon-screenshot icon-white"></i>
                        </button>
                        <button class="btn btn-danger span3" ng-click="onClear()" title="Clear">
                            <i class="icon-trash icon-white"></i>
                        </button>
                        <div class="span3"></div>
                    </div>

                    <div class="span1"></div>
                </div>
            </div>

        </div>

    </div>
    
</div>
